{"version":3,"sources":["components/login.js","components/signup.js","components/header.js","components/friendslist.js","components/friends.js","components/messagecontent.js","components/chat.js","components/search.js","components/logout.js","components/requests.js","App.js","serviceWorker.js","index.js"],"names":["Login","props","changeHandler","e","setState","target","name","value","submitHandler","preventDefault","console","log","state","axios","post","then","response","status","localStorage","setItem","data","username","token","handleSuccessfullAuth","catch","error","password","bind","this","handleLogin","history","push","getItem","get","login","white","color","pad0","padding","style","height","background","onSubmit","className","rel","type","onChange","to","textDecoration","width","align","Component","Signup","length","confirmPass","method","url","statusText","account_status","email","Header","FriendList","accepter_name","requester_name","Friends","userdata","errormsg","headers","id","map","user","key","Message","content","sender_name","date","substring","Chat","scrollToBottom","messagesEnd","scrollIntoView","behavior","messages","reciver_name","friend_name","match","params","chatSocket","WebSocket","onopen","send","JSON","stringify","onmessage","parse","update_messages","i","document","querySelector","focus","onkeyup","keyCode","click","onclick","messageInputDom","message","onclose","timestamp","clear","ref","el","border","borderRadius","Search","searchResult","searchName","getExactUser","datauser","already_freind","alert","marginTop","placeholder","onClick","addMyFriend","Logout","logout","Requests","friendname","username_style","fontSize","acceptRequest","App","loggedInStatus","path","component","exact","render","Boolean","window","location","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.87a48f3b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n// import { Redirect } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport './assets/login.css'\r\nimport axios from 'axios'\r\n\r\nclass Login extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            username : '',\r\n            password : ''\r\n        }\r\n\r\n        this.handleSuccessfullAuth= this.handleSuccessfullAuth.bind(this);\r\n    }\r\n\r\n    handleSuccessfullAuth(data){\r\n        this.props.handleLogin(data);\r\n        this.props.history.push(\"/friends\");\r\n    }\r\n\r\n    changeHandler = e => {\r\n        this.setState({[e.target.name]: e.target.value})\r\n    }\r\n\r\n    submitHandler = e => {\r\n        e.preventDefault()\r\n        console.log(this.state)\r\n        axios.post('/api/login/', this.state)\r\n        .then(response=>{\r\n            console.log(response)\r\n            if(response.status===200) {\r\n                localStorage.setItem('loginstatus', 'true');\r\n                localStorage.setItem('username', response.data.username);\r\n                localStorage.setItem('token', response.data.token);\r\n                console.log('set login status after login');\r\n                this.handleSuccessfullAuth(response.data);\r\n            }\r\n        }).catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        let data =localStorage.getItem('loginstatus');\r\n        \r\n        if(data=== \"true\"){\r\n            axios.get('/api/loggedin/get/')\r\n            .then(response=>{\r\n                console.log(response)\r\n                if(response.data.login === true){\r\n                    localStorage.setItem('loginstatus','true');\r\n                    this.props.history.push(\"/chat\");\r\n                }\r\n            }).catch(error=>{\r\n                console.log(error)\r\n                localStorage.setItem('loginstatus','false');\r\n                this.props.history.push(\"/\");\r\n            })\r\n        }\r\n    }\r\n    render(){\r\n        const tag1= {\r\n            height: '100vh',\r\n            color: '#fff',\r\n            background: 'linear-gradient(45deg, #009688, #4CAF50)'\r\n        }\r\n        const white={\r\n            color: '#fff'\r\n        }\r\n        const pad0={\r\n            padding:'0'\r\n        }\r\n        const fullwidth={\r\n            width:'100%'\r\n        }\r\n        const { username, password} = this.state\r\n        return (\r\n            <div style={tag1}>\r\n                <form onSubmit={this.submitHandler}>\r\n                <div className=\"container\" >\r\n                <div className=\"row center\">\r\n                    <div className=\"col s12 m8 l6 push-l3 push-m2\">\r\n                        <br/>\r\n                        <br/>\r\n                        <h4 className=\"text-shadow\">Login Your Account</h4>\r\n                        <p className=\"text-shadow\">Welcome to new Chat website</p>\r\n                        <div className=\"row\">\r\n                            <div className=\"input-field\">\r\n                                <label rel=\"text_input\" style={white}>Username : </label>\r\n                                <input type=\"text\" className=\"email_input validate\" \r\n                                    name=\"username\"\r\n                                    style={white} \r\n                                    value={username}\r\n                                    onChange={this.changeHandler}/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"input-field\">\r\n                                <label rel=\"password_input\" style={white}>Password : </label>\r\n                                <input type=\"password\" className=\"password_input validate\" \r\n                                    name=\"password\"\r\n                                    style={white} \r\n                                    value={password}\r\n                                    onChange={this.changeHandler}/>\r\n                                {/* <div className=\"\">Forgot Password?</div> */}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col s6 left\" style={pad0}>\r\n                                <span className=\"text-shadow left\"><Link to=\"signup\" style={{textDecoration:\"underline\"}}>Create Account</Link></span>\r\n                            </div>\r\n                            <div className=\"col s6 right-align\">\r\n                                <button type=\"submit\" className=\"btn waves-effect waves-light right black  z-depth-3\" style={fullwidth}>Login</button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <br/>\r\n                            <div className=\"col s12\" align=\"center\" style={pad0}>\r\n                                <span className=\"text-shadow\">Develeped by <Link to=\"signup\" style={{color:\"lightblue\",textDecoration:\"underline\"}}><b>Ramesh S</b></Link></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component} from 'react';\r\n// import { Redirect } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport './assets/login.css'\r\nimport axios from 'axios'\r\n\r\nclass Signup extends Component {\r\n    \r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            username : '',\r\n            email : '',\r\n            password : '',\r\n            confirmPass: '',\r\n            account_status:''\r\n        }\r\n    }\r\n\r\n    changeHandler = e => {\r\n        this.setState({[e.target.name]: e.target.value})\r\n    }\r\n\r\n    submitHandler = e => {\r\n        e.preventDefault()\r\n        // console.log(this.state)\r\n        if(this.state.password.length>7){\r\n            if(this.state.password===this.state.confirmPass){\r\n                axios({\r\n                    method : 'post',\r\n                    url : '/api/user/',\r\n                    data: this.state,\r\n                })\r\n                .then(response=>{\r\n                    // console.log(response)\r\n                    if(response.statusText===\"Created\"){\r\n                        this.setState({ account_status: 'Your Account is Created. Go to Login.'});\r\n                    }\r\n                    else if (response.data.username){\r\n                        this.setState({ account_status: response.data.username});\r\n                    }\r\n                }).catch(error=>{\r\n                    console.log(error)\r\n                });\r\n            }\r\n            else{\r\n                this.setState({ account_status: 'Password mismatch.'});\r\n            }\r\n        }\r\n        else{\r\n            this.setState({ account_status: 'Password must contain 8 charecters.'});\r\n        }\r\n    }\r\n    \r\n    componentDidMount(){\r\n        const checklogin = localStorage.getItem('loginstatus');\r\n        if(checklogin === \"true\"){\r\n            axios.get('/api/loggedin/get/')\r\n            .then(response=>{\r\n                if(response.data.login === true){\r\n                    localStorage.setItem('loginstatus','true');\r\n                    this.props.history.push(\"/chat\");\r\n                }\r\n            }).catch(error=>{\r\n                console.log(error)\r\n                localStorage.setItem('loginstatus','false');\r\n            })\r\n        }\r\n        \r\n    }\r\n\r\n    render(){\r\n        const tag1= {\r\n            height: '100vh',\r\n            color: '#fff',\r\n            background: 'linear-gradient(45deg, #009688, #4CAF50)'\r\n        }\r\n        const white={\r\n            color: '#fff'\r\n        }\r\n        const fullwidth={\r\n            width:'100%'\r\n        }\r\n        const { username, email, password, confirmPass, account_status} = this.state\r\n    return (\r\n        \r\n        <div style={tag1}>\r\n            <form onSubmit={this.submitHandler}>\r\n            <div className=\"container\">\r\n                <div className=\"row center\">\r\n                    <div className=\"col s12 m8 l6 push-l3 push-m2\">\r\n                        <br/>\r\n                        <h4 className=\"text-shadow\">Create Your Account</h4>\r\n                        <p className=\"text-shadow\">Welcome to new Chat website</p>\r\n                        <p className=\"text-shadow\">{account_status}</p>\r\n                        <div className=\"input-field\">\r\n                            <label rel=\"text_input\" style={white}>Username : </label>\r\n                            <input type=\"text\" className=\"password_input validate\" \r\n                                name=\"username\"\r\n                                style={white} \r\n                                value={username}\r\n                                onChange={this.changeHandler} />\r\n                        </div>\r\n                        <div className=\"input-field\">\r\n                            <label rel=\"email_input\" style={white}>Email : </label>\r\n                            <input type=\"email\" className=\"email_input validate\" \r\n                                name=\"email\"\r\n                                style={white} \r\n                                value={email}\r\n                                onChange={this.changeHandler} />\r\n                        </div>\r\n                        <div className=\"input-field\">\r\n                            <label rel=\"email_input\" style={white}>Password : </label>\r\n                            <input type=\"password\" className=\"password_input validate\" \r\n                                name=\"password\"\r\n                                style={white} \r\n                                value={password}\r\n                                onChange={this.changeHandler} />\r\n                        </div>\r\n                        <div className=\"input-field\">\r\n                            <label rel=\"email_input\" style={white}>Confirm Password : </label>\r\n                            <input type=\"password\" className=\"password_input validate\" \r\n                                name=\"confirmPass\"\r\n                                style={white} \r\n                                value={confirmPass}\r\n                                onChange={this.changeHandler} />\r\n                        </div>\r\n                        <div className=\"row\">                    \r\n                            <div className=\"col s6 left\">\r\n                                <span className=\"text-shadow left\"><Link to=\"login\" style={{textDecoration:\"underline\"}}>Login Account</Link></span>\r\n                            </div>\r\n                            <div className=\"col s6 right-align\">\r\n                                <button type=\"submit\" className=\"btn waves-effect waves-light right black  z-depth-3\" style={fullwidth}>Create</button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <br/>\r\n                            <div className=\"col s12\" align=\"center\" >\r\n                                <span className=\"text-shadow\">Develeped by <Link to=\"signup\" style={{color:\"lightblue\",textDecoration:\"underline\"}}><b>Ramesh S</b></Link></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n}\r\n\r\nexport default Signup;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './assets/mainstyle.css'\r\nimport './assets/icon.css'\r\nimport 'materialize-css/dist/js/materialize'\r\n\r\nconst Header = () =>{\r\n    return (\r\n        <div>\r\n            <header>\r\n                <nav className=\"nav-wrapper nav\">\r\n                    <div className=\"container\">\r\n                        <span className=\"brand-logo left\">CHAT</span>\r\n                            {/* <span className=\"sidenav-trigger\" data-target=\"mobile-links\">\r\n                            <i className=\"material-icons hide-on-large-only\">menu</i>\r\n                            </span> */}                            <ul className=\"right \">\r\n                            \r\n                            <li><Link to=\"/friends\">Friend</Link></li>\r\n                            <li><Link to=\"/requests\">Requests</Link></li>\r\n                            <li><Link to=\"/search\">Add Friend</Link></li>\r\n                            <li><Link to=\"/logout\">Logout</Link></li>\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n            </header>\r\n            {/* <ul className=\"sidenav hide-on-large-only\" id=\"mobile-links\">\r\n                <li><Link to=\"/chat\">Chat</Link></li>\r\n                <li><Link to=\"/friends\">Friend</Link></li>\r\n                <li><Link to=\"/search\">Add Friend</Link></li>\r\n                <li><Link to=\"/logout\">Logout</Link></li>\r\n            </ul> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst FriendList = (props) =>(\r\n    <NavLink to={`/chat/${props.accepter_name===props.username?props.requester_name:props.accepter_name}`}>\r\n        <li className=\"collection-item avatar\">\r\n            <i className=\"material-icons circle blue\">person</i>\r\n            <span className=\"title\" style={{color:'#000'}}>{props.accepter_name===props.username?props.requester_name:props.accepter_name}</span>\r\n            <p className=\"grey-text\" style={{color:'#fff'}}>.</p>\r\n            <span className=\"secondary-content\">\r\n                <i className=\"material-icons\">email</i>\r\n            </span>\r\n            <hr/>\r\n        </li>\r\n    </NavLink>\r\n)\r\nexport default FriendList;","import React, { Component } from 'react';\r\n// import { Redirect } from 'react-router-dom';\r\nimport './assets/mainstyle.css'\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\nimport 'materialize-css/dist/js/materialize'\r\nimport axios from 'axios'\r\nimport Header from './header'\r\nimport FriendList from './friendslist'\r\n\r\nclass Friends extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            userdata:[],\r\n            errormsg:'',\r\n            username:''\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.setState({username:localStorage.getItem('username')});\r\n        axios.get('/api/loggedin/get/')\r\n        .then(response=>{\r\n            // console.log(response)\r\n            if(response.data.login === true){\r\n                localStorage.setItem('loginstatus','true');\r\n            }\r\n        }).catch(error=>{\r\n            console.log(error)\r\n            localStorage.setItem('loginstatus','false');\r\n            this.props.history.push(\"/\");\r\n        })\r\n\r\n        // axios.get('/api/useraccount/')\r\n        // .then(response=>{\r\n        //     console.log(response)\r\n        //     this.setState({userdata: response.data})\r\n        // }).catch(error=>{\r\n        //     console.log(error)\r\n        //     this.setState({errormsg:'Error retreving friends data'})\r\n        // })\r\n\r\n        const username =localStorage.getItem('username');\r\n        axios({\r\n            method:'get',\r\n            url:'/api/friendslist/'+username+'/get/',\r\n            headers:{\r\n                'Authorization':'Token dd7dc6546d36009686eb3d4f0229c35e047c0acc'\r\n            }\r\n        })\r\n        .then(response=>{\r\n            // console.log(response)\r\n            this.setState({userdata: response.data})\r\n        }).catch(error=>{\r\n            console.log(error)\r\n            this.setState({errormsg:'Error retreving friends data'})\r\n        })\r\n        \r\n    }\r\n    \r\n    render(){\r\n        const pad0={\r\n            padding:'0'\r\n        }\r\n        \r\n        const { userdata, errormsg, username }= this.state\r\n        return (\r\n            <div>\r\n                <Header/>\r\n                <div className=\"row\">\r\n                    <div className=\"col s12 l12 topdiv\" id=\"chat-box\">  \r\n                        <ul className=\"collection with-header\" style={pad0}>\r\n                            {\r\n                                userdata.length?\r\n                                userdata.map(user=>\r\n                            <FriendList key={user.id} accepter_name={user.accepter_name}\r\n                                                        requester_name={user.requester_name}\r\n                                                        username={username} ></FriendList>):null\r\n                            }\r\n                            {\r\n                                errormsg?\r\n                            <li className=\"collection-item avatar\">\r\n                                {errormsg}\r\n                            </li>:null\r\n                            }\r\n                        </ul>\r\n                    \r\n                    </div>\r\n                </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\nimport 'materialize-css/dist/js/materialize'\r\nimport './assets/mainstyle.css'\r\n\r\nconst  Message = ({content,sender_name, date}) => {\r\n        const username = localStorage.getItem('username');\r\n\r\n        if(sender_name===username){\r\n            return(\r\n                <div className=\"col s12 l12\">\r\n                    <p className=\"right\" style={{width:'80%'}}>\r\n                            <span className=\"grey darken-3 right spanmsg\">\r\n                                {content}<br/>\r\n                            <span className=\"right\">{date.substring(0,19)}</span>\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div className=\"col s12 l12\">\r\n                    <p className=\"left\" style={{width:'80%'}}>\r\n                            <span className=\"grey darken-3 left spanmsg\">\r\n                                {content}<br/>\r\n                            <span className=\"right\">{date.substring(0,19)}</span>\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n                )\r\n        }\r\n}\r\n\r\nexport default Message;","import React, { Component } from 'react';\r\n// import { Redirect } from 'react-router-dom';\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\nimport 'materialize-css/dist/js/materialize'\r\nimport Header from './header'\r\nimport './assets/mainstyle.css'\r\nimport axios from 'axios'\r\nimport Message from './messagecontent'\r\n// import SocketApp from './socket'\r\n\r\n\r\nclass Chat extends Component {\r\n    \r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            messages:[],\r\n            reciver_name:'new user'\r\n        };\r\n    }\r\n    \r\n    scrollToBottom = () => {\r\n        this.messagesEnd.scrollIntoView({ behavior: 'smooth', });\r\n    }\r\n    componentDidUpdate(){\r\n        this.scrollToBottom();\r\n    }\r\n    componentDidMount(){\r\n        const friend_name = this.props.match.params.user;\r\n        const token = localStorage.getItem('token');\r\n\r\n        console.log(friend_name);\r\n        const roomName = 'new';\r\n\r\n        const socketPath = 'ws://localhost:8000/ws/chating/'+roomName+'/';\r\n\r\n        const chatSocket = new WebSocket(\r\n            socketPath\r\n        );\r\n\r\n        chatSocket.onopen = (e) => {\r\n            console.log('opened');\r\n            chatSocket.send(JSON.stringify({'command':'fetch_messages', 'username': localStorage.getItem('username'),'friend_name':friend_name}));\r\n        };\r\n        // main parts for message\r\n        \r\n        chatSocket.onmessage = (e) => {\r\n            const data = JSON.parse(e.data);\r\n            console.log(data);\r\n            let update_messages = [...this.state.messages];\r\n            \r\n            // this.setState(previousState => ({\r\n            //     messages:[...previousState.messages, data]\r\n            // }));\r\n                        \r\n            if(data['command']==='messages'){\r\n                for(var i=0;i<data.messages.length;i++){\r\n                    update_messages.push(data.messages[i]);\r\n                }\r\n            }\r\n            else{\r\n                update_messages.push(data.messages);\r\n            }\r\n            \r\n            this.setState({messages: update_messages})\r\n            console.log(this.state.messages);\r\n        };\r\n        \r\n        document.querySelector('#chat-message-input').focus();\r\n        document.querySelector('#chat-message-input').onkeyup = function(e) {\r\n            if (e.keyCode === 13) {  // enter, return\r\n                document.querySelector('#chat-message-submit').click();\r\n            }\r\n        };\r\n\r\n        document.querySelector('#chat-message-submit').onclick = function(e) {\r\n            const messageInputDom = document.querySelector('#chat-message-input');\r\n            const message = messageInputDom.value;\r\n            chatSocket.send(JSON.stringify({\r\n                'message': message,\r\n                'command': 'new_message',\r\n                'from': localStorage.getItem('username'),\r\n                'friend_name':friend_name,\r\n                'token':token\r\n            }));\r\n            messageInputDom.value = '';\r\n        };\r\n\r\n        \r\n        chatSocket.onclose = function(e) {\r\n            console.error('Chat socket closed unexpectedly');\r\n        }\r\n\r\n        // main part end\r\n\r\n        axios.get('/api/loggedin/get/')\r\n        .then(response=>{\r\n            console.log(response)\r\n            if(response.data.login === true){\r\n                localStorage.setItem('loginstatus','true');\r\n            }\r\n        }).catch(error=>{\r\n            console.log(error)\r\n            localStorage.setItem('loginstatus','false');\r\n            this.props.history.push(\"/\");\r\n        })\r\n        \r\n        this.scrollToBottom();\r\n    }\r\n\r\n    // funstions for message\r\n    createmessageTag(data){\r\n        console.log(data);\r\n    }\r\n\r\n    // fetchMessages(){\r\n    //     chatSocket.send(JSON.stringify({'command':'fetch_messages'}));\r\n    // }\r\n\r\n    render(){\r\n    \r\n    const chin={\r\n        width: '70%',\r\n        border:'1px solid #828d92',\r\n        borderRadius:'50px'\r\n    }\r\n    const { messages } = this.state\r\n    return (\r\n        <div>\r\n            <Header/>\r\n            \r\n            <div className=\"row white\">\r\n            <div className=\"col s12 l12 topdiv\" id=\"chat-box\">\r\n                {\r\n                    messages.length?\r\n                    messages.map(message=>\r\n                        <Message key={message.id} sender_name={message.sender_name} date={message.timestamp} content={message.content} />\r\n                    ):null\r\n                }\r\n                <div style={{clear:'both'}} ref={(el)=>(this.messagesEnd=el)}>.</div>\r\n                </div>                \r\n                <div className=\"col s12 l12 padmar\">\r\n                    <div align=\"center\">\r\n                        <input type=\"text\" className=\"chatinputbox white\" id=\"chat-message-input\" style={chin}/>\r\n                        <button className=\"btn chatsend\" id=\"chat-message-submit\">send</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n}\r\n\r\nexport default Chat;","import React, { Component } from 'react';\r\n// import { Redirect } from 'react-router-dom';\r\nimport './assets/mainstyle.css'\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\nimport 'materialize-css/dist/js/materialize'\r\nimport axios from 'axios'\r\nimport Header from './header'\r\n\r\nclass Search extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state={\r\n            searchName:'',\r\n            searchResult:[],\r\n            errormsg:''\r\n        }\r\n        this.getExactUser = this.getExactUser.bind(this);\r\n    }\r\n\r\n    changeHandler = e => {\r\n        this.setState({[e.target.name]: e.target.value})\r\n        let username = e.target.value;\r\n        if(username.length>1){\r\n            axios.get('/api/useraccount/?username='+username)\r\n            .then(response=>{\r\n                this.setState({searchResult: response.data})\r\n            }).catch(error=>{\r\n                console.log(error)\r\n                this.setState({errormsg:'Error retreving friends data'})\r\n            })\r\n        }\r\n    }\r\n\r\n    getExactUser(){\r\n        const username = this.state.searchName;\r\n        if(username.length>1){\r\n            axios.get('/api/search/?username='+username)\r\n            .then(response=>{\r\n                console.log(response)\r\n                this.setState({searchResult: response.data})\r\n            }).catch(error=>{\r\n                console.log(error)\r\n                this.setState({errormsg:'Error retreving friends data'})\r\n            })\r\n        }\r\n    }\r\n\r\n    addMyFriend(data,datauser){\r\n        let username =localStorage.getItem('username');\r\n        axios({\r\n            method:'post',\r\n            url:'/api/addfrd/post/', \r\n            data :{\r\n                \"accepter_id\":data,\r\n                \"username\":username,\r\n                \"accepter_name\":datauser,\r\n            },\r\n            headers:{\r\n                'Authorization':'Token dd7dc6546d36009686eb3d4f0229c35e047c0acc'\r\n            }\r\n        })\r\n        .then(response=>{\r\n            console.log(response);\r\n            const data=response.data;\r\n            if(data.already_freind===\"accepted\"){\r\n                alert('You are Already Friends');\r\n            }\r\n        }).catch(error=>{\r\n            console.log(error)\r\n            this.setState({errormsg:\"Can't add friend\"})\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/api/loggedin/get/')\r\n        .then(response=>{\r\n            console.log(response)\r\n            if(response.data.login === true){\r\n                localStorage.setItem('loginstatus','true');\r\n            }\r\n        }).catch(error=>{\r\n            console.log(error)\r\n            localStorage.setItem('loginstatus','false');\r\n            this.props.history.push(\"/\");\r\n        })\r\n    }\r\n\r\n    render(){\r\n            \r\n        const mtop={\r\n            marginTop: '70px'\r\n        }\r\n        const schlg={\r\n            width: '18%'\r\n        }\r\n        const schinp={\r\n            width: '70%'\r\n        }\r\n        const cen={\r\n            align:'center'\r\n        }\r\n        const { searchName, searchResult, errormsg }= this.state\r\n        return (\r\n            <div>\r\n                <Header/>\r\n                <div className=\"row\">\r\n                    <div className=\"col s12 l12\" style={mtop}>\r\n                        <div className=\"col l2\">\r\n                        </div>\r\n                        <div className=\"col s12 l8\" align=\"center\">\r\n                            <input type=\"text\" className=\"searchinput\" style={schinp} placeholder=\"Search Your friend\" \r\n                            name=\"searchName\" \r\n                            value={searchName}\r\n                            onChange={this.changeHandler} />\r\n                            <button className=\"btn hide-on-med-and-down waves-effect searchiconlg\" \r\n                            style={schlg}\r\n                            onClick={this.getExactUser} >Search<i className=\"material-icons left\">search</i></button>\r\n                            <button className=\"btn hide-on-large-only waves-effect searchiconmd\"\r\n                            onClick={this.getExactUser}><i className=\"material-icons\">search</i></button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col s12 l12\" align=\"center\" style={cen}>\r\n                        <div className=\"col l2\">\r\n                        </div>\r\n                        <div className=\"col s12 l8\">\r\n                            <table align=\"center\">\r\n                                <tbody>\r\n                                {\r\n                                    searchResult.length?\r\n                                    searchResult.map(user=>\r\n                                <tr key={user.id}>\r\n                                    <td>{user.username}</td>\r\n                                    <td><button className=\"btn waves-effect\" onClick={()=>this.addMyFriend(user.id,user.username)}>Add <i className=\"material-icons right\">add</i></button></td>\r\n                                </tr>):null\r\n                                }\r\n                                {\r\n                                    errormsg?\r\n                                <tr>\r\n                                <td className=\"collection-item avatar\">\r\n                                    {errormsg}\r\n                                </td>\r\n                                </tr>:null\r\n                                }\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport axios from 'axios'\r\n\r\nclass Logout extends Component {\r\n    \r\n    logout() {\r\n        axios.post('/api/logout/')\r\n        .then(response=>{\r\n            console.log(response)\r\n            localStorage.setItem('loginstatus', 'false');\r\n            this.props.history.push(\"/login\");\r\n        }).catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        this.logout();\r\n    }\r\n    render(){\r\n        return(\r\n            <div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Logout;","import React, { Component } from 'react';\r\n// import { Redirect } from 'react-router-dom';\r\nimport './assets/mainstyle.css'\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\nimport 'materialize-css/dist/js/materialize'\r\nimport axios from 'axios'\r\nimport Header from './header'\r\n\r\nclass Requests extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            userdata:[],\r\n            errormsg:''\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        axios.get('/api/loggedin/get/')\r\n        .then(response=>{\r\n            if(response.data.login === true){\r\n                localStorage.setItem('loginstatus','true');\r\n            }\r\n        }).catch(error=>{\r\n            console.log(error)\r\n            localStorage.setItem('loginstatus','false');\r\n            this.props.history.push(\"/\");\r\n        })\r\n\r\n        const username =localStorage.getItem('username');\r\n        const token =localStorage.getItem('token');\r\n        axios({\r\n            method:'get',\r\n            url:'/api/requestslist/'+username+'/get/',\r\n            headers:{\r\n                'Authorization':'Token '+token\r\n            }\r\n        })\r\n        .then(response=>{\r\n            // console.log(response)\r\n            this.setState({userdata: response.data})\r\n        }).catch(error=>{\r\n            console.log(error)\r\n            this.setState({errormsg:'Error retreving friends data'})\r\n        })\r\n        \r\n    }\r\n\r\n    acceptRequest(friendname){\r\n        const username =localStorage.getItem('username');\r\n        const token =localStorage.getItem('token');\r\n        axios({\r\n            method:'post',\r\n            url:'/api/accept/post/',\r\n            data:{\r\n                \"friendname\":friendname,\r\n                \"username\":username\r\n            },\r\n            headers:{\r\n                'Authorization':'Token '+token\r\n            }\r\n        })\r\n        .then(response=>{\r\n            // console.log(response)\r\n            this.setState({userdata: response.data})\r\n        }).catch(error=>{\r\n            console.log(error)\r\n            this.setState({errormsg:'Error retreving friends data'})\r\n        })\r\n    }\r\n    \r\n    render(){\r\n        const pad0={\r\n            padding:'0'\r\n        }\r\n        const username_style={\r\n            fontSize:'1.2em',\r\n        }\r\n        const { userdata, errormsg }= this.state\r\n        return (\r\n            <div>\r\n                <Header/>\r\n                <div className=\"row\">\r\n                    <div className=\"col s12 l12 topdiv\" id=\"chat-box\">  \r\n                        <ul className=\"collection with-header\" style={pad0}>\r\n                            {\r\n                                userdata.length?\r\n                                userdata.map(user=>\r\n                            <li className=\"collection-item \" key={user.id}>\r\n                                \r\n                                <span className=\"title\" style={username_style}>{user.requester_name}</span>\r\n                                \r\n                                <span className=\"secondary-content\">\r\n                                    <button className=\"btn waves-effect\" onClick={()=>this.acceptRequest(user.requester_name)}>Accept <i className=\"material-icons right\">add</i></button>\r\n                                    &nbsp;<button className=\"btn waves-effect\" onClick={()=>this.addMyFriend(user.id,user.username)}>Decline <i className=\"material-icons right\">delete</i></button>\r\n                                </span>\r\n                                <br/>\r\n                                <br/>\r\n                            </li>):<li className=\"collection-item\" align=\"center\">No New Request</li>\r\n                            }\r\n                            {\r\n                                errormsg?\r\n                            <li className=\"collection-item avatar\">\r\n                                {errormsg}\r\n                            </li>:null\r\n                            }\r\n                        </ul>\r\n                    \r\n                    </div>\r\n                </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Requests;","import React, { Component } from 'react';\nimport { BrowserRouter , Route , Switch } from 'react-router-dom';\nimport 'materialize-css/dist/css/materialize.min.css'\nimport 'materialize-css/dist/js/materialize'\nimport Login from './components/login'\nimport Signup from './components/signup'\nimport Friends from './components/friends'\nimport Chat from './components/chat'\nimport Search from './components/search'\n// import UserList from './components/userslist'\nimport Logout from './components/logout'\nimport Requests from './components/requests'\n// import BaseRouter from './routes'\n\nclass App extends Component {\n  constructor(){\n    super();\n\n    this.state = {\n      loggedInStatus: \"Not_Logged_In\",\n      user: {}\n    }\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  setLocalData(){\n    localStorage.setItem('loginstatus', 'false');\n  }\n\n  getLocalData(){\n  \n  }\n\n  \n  handleLogin(data){\n    this.setState({\n      loggedInStatus:\"Logged_IN\",\n      user:data\n    })\n    \n  }\n\n  render(){\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n        {/* <UserList /> */}\n        {/* <Signup/> */}\n        {/* <Friends/> */}\n        <Switch>\n          <Route path=\"/logout\" component={Logout}/>\n          <Route path=\"/chat/:user\" exact component={Chat}/>\n          <Route path=\"/requests\" component={Requests}/>\n          <Route path=\"/friends\" component={Friends}/>\n          <Route path=\"/search\" component={Search}/>\n          <Route path=\"/signup\" component={Signup}/>\n          <Route path=\"/login\" exact render={props=>(\n           <Login {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.loggedInStatus} /> \n          )}/>\n          <Route path=\"/logout\" exact render={props=>(\n           <Login {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.loggedInStatus} /> \n          )}/>\n          <Route path=\"/\" exact \n          render={props=>(\n           <Login {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.loggedInStatus} /> \n          )} />\n          <Route render={() => <h3>404</h3>} />\n        </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}